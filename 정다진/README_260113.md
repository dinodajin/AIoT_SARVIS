# 20260113
## 비접촉식 생체 신호 모니터링

### 웨어러블 한계 극복
- 어르신들은 웨어러블 기기 착용을 까먹거나 거부하는 경우가 많음
- 착용을 하시더라도 충전의 불편함이 있어서 결정적인 순간에 데이터가 누락되는 경우도 많음
- 매트리스 매립형 / 방석 매립형 으로 만들어 환자가 인지하지 못하는 사이에 보호가 이루어진다는 기능적 요소
- 노인분들에게 가장 치명적인 사고는 야간에 혼자 침대에서 일어나다 발생하는 낙상(2위), 수면 중 호흡 이상임
- 단순히 아프다가 아니라 언제 이상이 생겼는지 실시간으로 알 수 있는 것이 중요
- cctv나 동작 감지 센서는 프라이버시, 사각지대가 존재한다는 문제점이 있음
- 치매 환자들은 상태가 갑자기 나빠지기 전에 수면 패턴이 흐트러지거나 심박 변이도가 급격히 변하는 전조 증상들이 있음. 이러한 전조 증상을 미연에 방지할 수 있는 예측 모델을 생성가능 (AI)
- 꼭 치매 환자들이 아니더라도 수면의 질과 심리적 안정도를 측정하는 용도로도 사용이 가능하며 사람, 펫까지도 넓게 사용 가능
---

심박은 작지만 빠른 진동으로 주파수를 분리하여 찾아낼 수 있다.
심장이 피를 쏘면서 몸이 미세하게 반동을하는데 이 반동은 힘이 작지만 주기성이 매우 정확하다
pvdf가 특히 이런 주기성의 반동을 잘 감지한다
직접 심장박동수를 측정하겠다는것이 아니라 심장박동 주기의 변화를 통해서 이상을 감지하는것이다

---
#### [하드웨어/회로]: 디지털 아날로그 프론트엔드
- 다채널 센싱 어레이: 매트리스 하단에 4~8개의 PVDF 센서를 배치하여 '압력 지도'를 형성
- Charge-to-Voltage Converter: 압전 센서는 전하량이 변하므로 이를 전압으로 바꿔줄 Op-Amp 회로가 필요 (V = Q/C)
- Cascaded Filter Stage:
	- 1단(LPF): 15Hz 이상 차단 (고주파 노이즈 제거)
	- 2단(HPF): 0.5Hz 이하 차단 (사용자의 큰 움직임으로 인한 DC Offset 제거)
	- 3단(Amp): 최종적으로 ADC가 인식하기 가장 좋은 전압 범위(0 ~3.3V)로 증폭

#### [임베디드 로직]: 데이터 수집 및 전처리
- DMA(Direct Memory Access) 활용: CPU가 매번 개입하지 않고 ADC가 측정한 데이터를 메모리에 직접 쓰도록 설계하여 CPU 부하
 감소
- Sampling Rate 최적화: 나이퀴스트 이론(Nyquist Theorem)에 따라 심박수(최대 3Hz)의 10배 이상인 100Hz~250Hz 정도로 샘플링 주기를 고정
- Real-time Buffer: 원형 큐를 사용하여 실시간으로 들어오는 데이터를 윈도우 단위로 슬라이싱하여 알고리즘에 전달

#### [신호처리 알고리즘]
-대역 분리: 
	- 입력 신호를 FFT(고속 푸리에 변환)하면 저주파 영역에 호흡(0.1~0.5Hz), 상대적으로 고주파 영역		   에 심박(0.7~3.0Hz) 피크가 나타난다
	- 디지털 필터(FIR/IIR)를 사용하여 두 신호를 분리한다
- 피크 검출 (Peak Detection): BCG 신호는 ECG와 달리 파형이 불규칙하다. 따라서 Adaptive Threshold(적응형 임계값) 알고리즘을 사용하여 신호가 약해져도 Peak를 놓치지 않게 설계
- HRV(심박 변이도) 계산: 연속된 J-peak(심박 피크) 사이의 시간 간격(R-R Interval)을 측정하여 스트레스 지수나 수면 깊이를 분석

#### [시각화]
- 실시간 푸시 알림: 치매 어르신이 침대에서 이탈하거나 호흡 이상이 생겼을 때, 스마트폰 상단에 즉각적으로 뜨는 '푸시 알림'
